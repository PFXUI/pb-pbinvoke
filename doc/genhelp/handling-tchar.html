<html>
<head>
	<title>Handling TCHAR and TSTR. Unicode/ANSI function name suffixes</title>
   <link rel="stylesheet" href="style.css" type="text/css">
</head>
<body>
<div id="container">
   	<div id="header">
     		PBInvoke documentation. Version 1.X. Visit <a href="http://sqlbatch.com/pbinvoke">http://sqlbatch.com/pbinvoke</a> for updates.
   	</div>         
		<div id="main"><h1>Handling TCHAR and TSTR. Unicode/ANSI function name suffixes</h1>
<p>When at least one of parameter types or return type of a declared DLL function is based on TCHAR type, 
then PBInvoke automatically appends a suffix "A" or "W" to the function's name  and treats TCHAR as char or wchar_t
 depending on PowerBuilder version.
<p>In Unicode versions (PB10 and above), the "W" suffix is appended and TCHAR=wchar_t, 
<p>In ANSI version (PB9 and below) , the "A" suffix is appended and TCHAR=char.

<p>If the function with the suffix does not exist in the DLL, then PBInvoke tries to find the function without the prefix.

<p>Example:
<pre class="pb">lnv_CreateDirectory = lnv_kernel32.of_declare_method(&
   "BOOL CreateDirectory(LPCTSTR lpPathName, LPSECURITY_ATTRIBUTES lpSecurityAttributes);")
<span class="cmt">// The exact meaning of the declaration above depends on PB version:</span>
<span class="cmt">// in PB9:  BOOL CreateDirectoryA(const char *lpPathName, LPSECURITY_ATTRIBUTES lpSecurityAttributes)</span>
<span class="cmt">// in PB10: BOOL CreateDirectoryW(const wchar_t *lpPathName, LPSECURITY_ATTRIBUTES lpSecurityAttributes)</span>
</pre>

<h3>See also</h3>
<li> <a href="handling-strings.html">Handling strings (char*, wchar_t*)</a>
<li> <a href="winapi.html">WinAPI constants and types</a>
<li> <a href="working-with-callbacks.html">Working with callbacks</a>
</div>
   	<div id="footer">
     		Copyright (C) 2009 <a href="mailto: Anatoly Moskovsky <avm@sqlbatch.com>">Anatoly Moskovsky</a>
   	</div>         
</div>

</body>
</html>
